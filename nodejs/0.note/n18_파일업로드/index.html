<!doctype html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script>

    </script>
</head>

<body>
    <!-- 모달창 영역 -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">파일전송완료</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    파일이 정상적으로 전송되었습니다!
                </div>
                <div class="modal-footer">
                    <!-- 닫기 버튼 경로 수정 -->
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                        onclick="window.location.href='/'">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 아코디언메뉴영역 -->
    <div class="accordion accordion-flush" id="accordionFlushExample">
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                    JAVA
                </button>
            </h2>
            <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quia, labore
                    tempora provident atque explicabo vero, officia tempore perspiciatis veritatis, ab nobis dolorem
                    sapiente. Nisi blanditiis distinctio, eum reprehenderit tenetur, deserunt maxime corporis illo
                    nesciunt doloremque iure aspernatur ex nulla, earum reiciendis! Consectetur id quia eaque unde
                    minima, ipsa corporis optio.</code> class. This is the first item's accordion body.</div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                    Python<span class="badge text-bg-info">3</span>
                </button>
            </h2>
            <div id="flush-collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">Lorem ipsum dolor sit amet consectetur adipisicing elit. In sit quo, alias
                    officia culpa excepturi explicabo possimus impedit iure a, adipisci est incidunt tempora dignissimos
                    laborum quidem quos quas, sed suscipit unde fuga. Distinctio, possimus nemo. Aperiam, consequatur?
                    Ipsa rem laborum incidunt ducimus consequuntur maiores cum ea, illum repellendus architecto?</code>
                    class. This is the second item's accordion body. Let's imagine this
                    being filled with some actual content.
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                    Javascript
                </button>
            </h2>
            <div id="flush-collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Harum fugit quae
                    quasi? Hic non, corrupti ex natus, neque repellat esse laudantium exercitationem laborum consequatur
                    perferendis pariatur? Nemo, dignissimos suscipit voluptatem recusandae consequatur molestiae
                    accusamus in rerum magni dolores architecto exercitationem reprehenderit autem quas dicta distinctio
                    sed. Distinctio obcaecati perferendis velit!
                    <code>.accordion-flush</code> class. This is the third item's accordion body. Nothing more exciting
                    happening here in terms of content, but just filling up the space to make it look, at least at first
                    glance, a bit more representative of how this would look in a real-world application.
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseFour">
                    File UpLoad
                </button>
            </h2>
            <div id="flush-collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                <div class="accordion-body">
                    <form action="/up" method="POST" enctype="multipart/form-data" class="input-group mb-3">
                        <!-- 업로드 파일 용량 체크 -->
                        <input type="file" class="form-control" id="inputGroupFile02" name="ufile"
                            onchange="checkSize(this)">
                        <!-- 모달창 열기, submit하기 -->
                        <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"
                            type="submit" id="inputGroupFileAddon04" disabled>Button</button>
                    </form>

                </div>
            </div>
        </div>
    </div>

    <script>
        const btnActive = () => document.getElementById('inputGroupFileAddon04').disabled = false
        const btnDisable = () => document.getElementById('inputGroupFileAddon04').disabled = true
        function checkSize(input) {
            console.log(input.files[0].name, input.files[0].size)
            if (!!input.files && (input.files[0].size > 10 * 1024 * 1024)) {
                alert('파일 사이즈가 10MB를 넘슴니다.')
                btnDisable()
            } else {
                console.log('파일 사이즈가 적당합니다.')
                btnActive()
            }
        }
    </script>




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>